<form action="https://clivkc.github.io/Life-Store/1.html" method="POST" enctype="multipart/form-data">
  <input type="file" name="files[]" multiple>
  <input type="submit" value="上传文件">
</form>
<?php
if(isset($_FILES['file'])) {
  $file_name = $_FILES['file']['name'];
  $file_tmp = $_FILES['file']['tmp_name'];
  move_uploaded_file($file_tmp, "uploads/".$file_name);
  echo "文件上传成功！";
}
?>
<?php
$dir = "uploads/";
$files = scandir($dir);
foreach($files as $file) {
  if($file !== "." && $file !== "..") {
    echo "<a href='download.php?file=".$file."'>".$file."</a><br>";
  }
}
?>
<?php
if(isset($_GET['file'])) {
  $file_name = $_GET['file'];
  $file_path = "uploads/".$file_name;
  if(file_exists($file_path)) {
    header('Content-Type: application/octet-stream');
    header('Content-Disposition: attachment; filename='.basename($file_path));
    header('Content-Length: ' . filesize($file_path));
    readfile($file_path);
    exit;
  }
}
?>
